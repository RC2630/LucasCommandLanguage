// THIS FILE EXPANDS ON A PREVIOUS FILE (nestedStructObject.txt)

/debug true

// 2 layer nesting

/structdef Course ...
	subject String ...
	code Number

/structdef Student ...
	name String ...
	year Number ...
	favCourse Course ...
	leastFavCourse Course

/construct lucas Student ...
	Lucas ...
	2 ...
	CPSC 123 ...
	ENGL 321

/stringrep Course <subject> <code>
/stringrep Student <name> is a year <year> student. His favourite course is <favCourse>, and his least favourite course is <leastFavCourse>.

{lucas} ; /line

// 3 layer nesting

/structdef StudyGroup ...
	name String ...
	course Course ...
	stu1 Student ...
	stu2 Student

/construct cpsc228 Course CPSC 228

/construct cpsc228studyGroup StudyGroup ...
	CPSC-228-Study-Group ...
	<cpsc228> ...
	<lucas> ...
		Jackie ...
		2 ...
		MATH 393 ...
		EOSC 188

/stringrep Student <name> (year <year>)
/stringrep StudyGroup <name> is a study group for <course>. <stu1> is one of the members, and <stu2> is the other member.

{cpsc228studyGroup} ; It turns out that {cpsc228studyGroup.stu2.favCourse} is {cpsc228studyGroup.stu2.name}'s favourite course! ; /line

// default constructor

/construct defaultStudent1 Student ...
	Student1 ...
	0 ...
	BEST 263 ...
	WRST 362

/construct defaultStudent2 Student ...
	Student2 ...
	0 ...
	GOOD 512 ...
	ABOM 215

/setdefault Course ABCD 100
/consdefault defaultCourse Course

/setdefault StudyGroup ...
	STUDY-GROUP-PLACEHOLDER-NAME ...
	<defaultCourse> ...
	<defaultStudent1> ...
	<defaultStudent2>

/consdefault defaultStudyGroup StudyGroup

{defaultStudyGroup} ; It turns out that {defaultStudyGroup.stu2.favCourse} is {defaultStudyGroup.stu2.name}'s favourite course! ; /line